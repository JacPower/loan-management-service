# Server Configuration
server.port=8080
server.servlet.context-path= /lender/v1

# Spring Configuration
spring.application.name=lender

# MySQL Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/lender
spring.datasource.username=postgres
spring.datasource.password=postgres

# JPA/Hibernate Configuration
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Flyway Database Migration Configuration
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration
spring.flyway.enabled=true
spring.flyway.schemas=public
spring.flyway.url=jdbc:postgresql://localhost:5432/lender
spring.flyway.user=postgres
spring.flyway.password=postgres

# Default notification channel
notification.default.channel=SMS

# Global notification enabled flags
notification.enabled.payment_reminder=true
notification.enabled.installment_reminder=true
notification.enabled.loan_overdue=true
notification.enabled.loan_default=true
notification.enabled.loan_written_off=true
notification.enabled.loan_closed=true
notification.enabled.loan_creation=true
notification.enabled.payment_received=true
notification.enabled.late_fee=true

# Notification templates
notification.template.payment_reminder=Dear {{firstName}}, This is a reminder that your loan payment of {{currentBalance}} is due on {{dueDate}}. Please ensure funds are available for timely processing.
notification.template.installment_reminder=Dear {{firstName}}, This is a reminder that your loan installment of {{installmentAmount}} is due on {{installmentDueDate}}. Please ensure funds are available for timely processing.
notification.template.loan_overdue=Dear {{firstName}}, Your loan payment of {{currentBalance}} was due on {{dueDate}}. Please make your payment as soon as possible to avoid additional late fees.
notification.template.loan_default=Dear {{firstName}}, Important notice: Your loan (ID: {{loanId}}) is now marked as defaulted due to extended non-payment. The outstanding amount is {{currentBalance}}. Please contact us immediately at (555) 123-4567.
notification.template.loan_written_off=Dear {{firstName}}, Your loan (ID: {{loanId}}) has been written off. Please contact our recovery department at (555) 987-6543 to discuss this matter.
notification.template.loan_closed=Dear {{firstName}}, Congratulations! Your loan (ID: {{loanId}}) has been fully repaid and closed. Thank you for your business.
notification.template.loan_creation=Dear {{firstName}}, Your loan application (ID: {{loanId}}) has been approved. The total payable amount is {{loanAmount}} and your first payment is due on {{dueDate}}.
notification.template.payment_received=Dear {{firstName}}, We've received your payment of Ksh {{paymentAmount}}. Your remaining loan balance is Ksh {{currentBalance}}. Thank you for your payment.
notification.template.late_fee=Dear {{firstName}}, a late fee of Ksh {{lateFeeAmount}} has been applied to your loan due to a missed payment. Your updated loan balance is Ksh {{currentBalance}}. Please make a payment as soon as possible to avoid further charges.
